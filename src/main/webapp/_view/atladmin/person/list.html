#@myLayout() #define main()


<div class="row">
	<div class="col-xs-12">
		<div class="box">
		#include("upload.html")
			<div class="box-header">
				<h3 class="box-title">人员管理</h3>

				<a href="/fy/admin/base/person/add"><button type="submit"
						class="btn btn-primary">添加人员</button></a>
					
				<div class="box-tools">
					
						<form action="/fy/admin/base/person" class="form-inline">
								 <div class="form-group  input-group-sm">
								    <label for="condition">条件</label>
									    <select id="condition" class="form-control" name="condition" >
									    	<option #if(condition=="job_status") selected="selected" #end value="job_status">状态</option>
									    	<option #if(condition=="name") selected="selected" #end value="name" >姓名</option>
									    	<option #if(condition=="dateNumber") selected="selected" #end value="dateNumber">入职天数</option>
									    	<option #if(condition=="part_name") selected="selected" #end value="part_name">部门</option>
									    	<option #if(condition=="room_no") selected="selected" #end value="room_no">寝室号</option>
									    
									    </select>
								  
								  </div>
								
								<div class="input-group input-group-sm" style="width: 150px;">
									<input type="text" name="keyWord" class="form-control pull-right" autocomplete="off"
										placeholder="Search" value="#(keyWord)">
		
									<div class="input-group-btn">
										<button type="submit" class="btn btn-default" >
											<i class="fa fa-search"></i>
										</button>
									</div>
								</div>
		
							</form>
				</div>
				
			</div>
			<!-- /.box-header -->
			<div class="box-body table-responsive no-padding">
	
					<table class="table table-bordered"  style="white-space:nowrap">
						<thead>
							<tr>
								<th style="">序号</th>
								<th>工作状态</th>
								<th>姓名</th>
								<th>籍贯</th>
								<th>性别</th>
								
								<th>民族</th>
								<th>联系电话</th>
								
								<th>出生日期</th>
								<th>入职日期</th>

								<th>申请离职日期</th>
								
								<th>离职日期</th>
								
								<th>当前时间</th>
								<th>入职天数</th>
								
								
								<th>学历</th>
								<th>政治面貌</th>
								
								<th>婚姻状态</th>
								
								<th>住宿</th>
								
								<th>寝室号</th>
								
								<th>岗位</th>
								<th>部门</th>
								<th>档案编号</th>
								
								#fyColPerm("person","entry_salary")
								<th>入职底薪</th>
								#end
								#fyColPerm("person","current_salary")
								<th>当前底薪</th>
								#end
								#fyColPerm("person","adjust_base_salary1")
								<th>调整底薪1</th>
								#end
								#fyColPerm("person","adjust_date1")
								
								<th>调整1日期</th>
								#end
								#fyColPerm("person","adjust_base_salary2")
								<th>调整底薪2</th>
								#end
								#fyColPerm("person","adjust_date2")
								<th>调整2日期</th>
								#end
								#fyColPerm("person","adjust_base_salary3")
								<th>调整底薪3</th>
								#end
								#fyColPerm("person","adjust_date3")
								<th>调整3日期</th>
								#end
								#fyColPerm("person","adjust_date4")
								<th>调整底薪4</th>
								#end
								#fyColPerm("person","adjust_base_salary5")
								<th>调整4日期</th>
								#end
								#fyColPerm("person","adjust_date5")
								
								<th>调整底薪5</th>
								#end
								#fyColPerm("person","adjust_base_salary6")
								<th>调整5日期</th>
								#end
								#fyColPerm("person","adjust_date6")
								<th>调整底薪6</th>
								#end
								#fyColPerm("person","entry_salary")
								<th>调整6日期</th>
								#end
								#fyColPerm("person","adjust_base_salary7")
								<th>调整底薪7</th>
								#end
								#fyColPerm("person","adjust_date7")
								<th>调整7日期</th>
								#end
								#fyColPerm("person","adjust_base_salary8")
								<th>调整底薪8</th>
								#end
								#fyColPerm("person","adjust_date8")
								<th>调整8日期</th>
								#end
								<th>质量考核</th>
						
								<th>行政考核</th>
								
								<th>备注</th>
							
							
								
								<th>操作</th>
								
							</tr>
						</thead>
						<tbody>
							#for(x : modelPage.getList())
							<tr>
								<td>#(for.index+1)</td>
								<td>#(x.jobStatus)</td>
								<td>#(x.name) </td>
								<td>#(x.nativePlace)</td>
								<td>#if(x.sex) 男 #else 女 #end</td>
								
								<td>#(x.ethnic_group)</td>
								<td>#(x.contactType)</td>
								
								
								<td>#date(x.birth_date,"yyyy-MM-dd")</td>
								
								<td>#date(x.entryDate,"yyyy-MM-dd")</td>
								<td>#(x.requst_out_date)</td>
								
								<td>#date(x.quitDate,"yyyy-MM-dd")</td>
								
								<td>#(x.CURDATE)</td>
								<td>#(x.dateNumber)</td>
								
								
							
								<td>#(x.education)</td>
								<td>#(x.politicalStatus)</td>
								
								<td>#(x.marriage)</td>
								
								<td>#(x.accommodation)</td>
								
								<td>#(x.room_no)</td>
								
								<td>#(x.post)</td>
								<td>#(x.department)</td>
								
								<td>#(x.doc_no)</td>
								
								
								#fyColPerm("person","entry_salary")
								<td>#(x.entry_salary)</td>
								#end
								#fyColPerm("person","current_salary")
								<td>#(x.current_salary)</td>
								#end
								#fyColPerm("person","adjust_base_salary1")
								
								<td>#(x.adjust_base_salary1)</td>
								#end
								#fyColPerm("person","adjust_date1")
								<td>#(x.adjust_date1)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary2")
								<td>#(x.adjust_base_salary2)</td>
								#end
								
								#fyColPerm("person","adjust_date2")
								<td>#(x.adjust_date2)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary3")
								<td>#(x.adjust_base_salary3)</td>
								#end
								
								#fyColPerm("person","adjust_date3")
								<td>#(x.adjust_date3)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary4")
								<td>#(x.adjust_base_salary4) </td>
								#end
								
								#fyColPerm("person","adjust_date4")
								<td>#(x.adjust_date4)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary5")
								
								<td>#(x.adjust_base_salary5)</td>
								#end
								
								#fyColPerm("person","adjust_date5")
								<td>#(x.adjust_date5)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary6")
								<td>#(x.adjust_base_salary6)</td>
								#end
								
								#fyColPerm("person","adjust_date6")
								<td>#(x.adjust_date6)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary7")
								<td>#(x.adjust_base_salary7)</td>
								#end
								
								#fyColPerm("person","adjust_date7")
								<td>#(x.adjust_date7)</td>
								#end
								
								#fyColPerm("person","adjust_base_salary8")
								<td>#(x.adjust_base_salary8) </td>
								#end
								
								#fyColPerm("person","adjust_date8")
								<td>#(x.adjust_date8)</td>
								#end
								
							
								
								<th>#(x.quality_check)</th>
								<th>#(x.administrative_check)</th>
								
								<td>#(x.remark)</td>
								<td class="jfa-operation-button"><a href="/fy/admin/base/person/edit?id=#(x.id)" style="margin-left: 14px;"> 
								<i class="fa fa-pencil" title="修改"></i>
								</a> <a data-delete data-title="#escape(x.name)"
									data-action="/fy/admin/base/person/delete?id=#(x.id)" onclick="deleteperson(this)" style="margin-left: 14px; color: red;cursor:pointer"> <i
										class="fa fa-trash" title="删除"></i>
								</a></td>
							</tr>
							#end
						</tbody>
					</table>
		

			</div>
			<!-- /.box-body -->

			<div class="box-footer clearfix">
				#@myadminPaginate(modelPage.pageNumber, modelPage.totalPage,
				"/fy/admin/base/person?p=")</div>
		</div>
		<!-- /.box -->
	</div>
</div>


<script type="text/javascript">
function deleteperson(a){
	var issure = confirm("确定要删除  "+ $(a).data("title") +" 吗?")
	if(issure){

		$.ajax({
			   type: "POST",
			   url:$(a).data("action") ,
			   success: function(ret){
				   if (ret.state == "ok") {
			
					   location.reload();
					}
				   alert(ret.msg);
			   },
			   error:function (XMLHttpRequest, textStatus, errorThrown) {
				    // 通常 textStatus 和 errorThrown 之中
				    // 只有一个会包含信息
				 //   this; // 调用本次AJAX请求时传递的options参数
				   alert('网络异常');
				}
			});
		}
	else{
	
		}
	}
    </script>

#end
								